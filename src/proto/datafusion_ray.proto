syntax = "proto3";

package datafusion_ray.protobuf;

option java_multiple_files = true;
option java_package = "datafusion_ray.protobuf";
option java_outer_classname = "RayDataFusionProto";

import "datafusion_common.proto";
import "datafusion.proto";

message RayStageReaderExecNode {
  // stage to read from
  string stage_id = 1;
  // identifier of the RayQueryCoordinator Actor we need to contact
  string coordinator_id = 2;
  // schema of the stage we will consume
  datafusion_common.Schema schema = 3;
  // properties of the stage we will consume
  datafusion.Partitioning partitioning = 4;
}

message MaxRowsExecNode {
  uint64 max_rows = 1;
}

message StreamMeta {
  // stage id of the stream
  uint32 stage_num  = 1;
  // parittion id of the stream
  uint32 partition_num = 2;
  // what fraction of the work do we represent
  float fraction = 3;
}

